{"version":3,"kind":"Article","sha256":"2ad1456afe5471ccf7c4aaa83ba623f8da3a693ecec777b187ab581ad18d52e0","slug":"content.boolean-logic-for-set-coalgebras","location":"/content/Boolean-Logic-for-Set-Coalgebras.md","dependencies":[],"frontmatter":{"github":"https://github.com/alexhkurz/introduction-to-coalgebraic-logic/","math":{"\\Qu":{"macro":"Q"},"\\QuCat":{"macro":"\\Qu\\text{-Cat}"},"\\One":{"macro":"\\mathbb{1}"},"\\yon":{"macro":"よ"},"\\bigsqcap":{"macro":"⨅"},"\\val":{"macro":"[\\![{#1}]\\!]"},"\\descr":{"macro":"(\\![{#1}]\\!)"},"\\sem":{"macro":"[\\![{#1}]\\!]"},"\\Set":{"macro":"{\\\\sf Set}"},"\\Coalg":{"macro":"{\\sf Coalg}"},"\\Alg":{"macro":"{\\sf Alg}"},"\\BA":{"macro":"{\\sf BA}"}},"numbering":{"title":{"offset":1}},"source_url":"https://github.com/alexhkurz/introduction-to-coalgebraic-logic//blob/main/content/Boolean-Logic-for-Set-Coalgebras.md","edit_url":"https://github.com/alexhkurz/introduction-to-coalgebraic-logic//edit/main/content/Boolean-Logic-for-Set-Coalgebras.md","exports":[{"format":"md","filename":"Boolean-Logic-for-Set-Coalgebras.md","url":"/Boolean-Logic-for-Se-e7abab0967b7f4006b8f3ad3cff47033.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"code","lang":"yaml","value":"\n# Boolean Logic for Set-Coalgebras\n\nWe build on concepts and examples explained previously, but try to keep this section self-contained from a technical point of view.\n\nWe specialise the setting from [Coalgebraic Logic: Introduction](https://hackmd.io/@alexhkurz/r1t-Y6f8L) as follows:\n\n- a functor $T:Set \\to Set$\n- a functor $L:{\\sf BA} \\to {\\sf BA}$\n- $F\\dashv U:{\\sf BA} \\to Set$\n- $P:Set\\to BA$ given by $PX=2^X$\n- $S:BA\\to Set$ given by $SA=BA(A,2)$\n- $\\delta_X: LPX\\to PTX$\n\nWe have seen previously that modal logics for $T$-coalgebras can be described by giving $L$ and $\\delta$. \n\nConversely, [every sifted colimit preserving functor on a variety has a presentation](https://hackmd.io/@alexhkurz/ByRlkfCio) and hence gives rise to a modal logic. Before we see how this works let us state some results needed later.\n\n**Proposition:** Let $L$ be a sifted colimit preserving functor on ${\\sf BA}$. There is a functor $L'$ that agrees with $L$ on all non-trivial algebras and preserves filtered colimits. Moreover $Alg(L)\\cong Alg(L')$.\n\n**Lemma:** Let $H$ be a functor on ${\\sf BA}$ and $L$ a sifted colimit preserving functor on ${\\sf BA}$ and $LFn=HFn$ for all finitely generated free Boolean algebras $Fn$. Then $LA=HA$ for all finite non-trivial algebras $A$.\n\n*Proof:* Every finite non-trivial Boolean algebra is a retract of a finitely generated free one.\n\n\n## The logic of $L$\n\nAs promised, we are going to show that  every sifted colimit preserving functor on a variety has a presentation and hence gives rise to a modal logic.\n\nEvery sifted colimit preserving functor $L$ on a variety is a quotient\n\n$$FGUA\\stackrel {q_A} \\longrightarrow LA$$\n\nwhere $GX=\\coprod_{n\\in\\mathbb N}ULFn\\times X^n$. Since $F$ is a left adjoint, the morphism $q_A$ is the adjoint transpose of a morphism\n\n$$GUA \\longrightarrow ULA$$\n\nwhich determines (and is determinedy by) the following modal logic.\n- The $n$-ary modal operators $\\sigma$ are the elements of $ULFn$.\n- $q_A$ maps $(\\sigma,v:n\\to UA)$ to $L(v^\\dagger)(\\sigma)$ where $v^\\dagger$ is the adjoint transpose of $v$.\n- The equations in $n$ variables are the kernel of $q_{Fn}$.\n\nIn particular the $(\\sigma,v:n\\to UA)$ are modal formulas \n\n$$\\Delta(a_1,\\ldots a_n)$$ \n\nwhere $\\Delta=\\sigma$ and $a_i=v(i)$.\n\nThe set $\\Sigma$ of operations and the set $E$ of equations constitute the presentation $\\langle\\Sigma_L,E_L\\rangle$ of $L$.\n\n**Example:** The variety of Boolean algebras with operator (BAO) is presented by the operations and equations of Boolean algebra plus a unary operation $\\Box$ and two equations specifying that $\\Box$ preserves finite meets.\n\n\n## Moss's coalgebraic logic\n\nThe first proposal for a logic of coalgebras parametric in the coalgebra functor $T$ was Moss's coalgebraic logic. It can be obtained by defining $L$ via a presentation\n\n$$FGUA\\stackrel {q_A} \\longrightarrow LA$$\n\nwhere $G=T$. Originally, Moss's logic did not have equations, which corresponds to taking the $q_{Fn}$ to be identities. This use of the functor $T$ itself as a syntax constructor for a logic yields a very interesting presentation. This presentation is equivalent in expressiveness (in case $T$ preserves weak pullbacks) to the ones we know from classical modal logic, but is quite different in terms of the opportunities it offers as a logical tool. For more see the section on [Moss's Coalgebraic Logic](https://hackmd.io/@alexhkurz/rJksR4sso).\n\n\n## The logic of all predicate liftings\n\nPattinson introduced [predicate liftings](https://hackmd.io/@alexhkurz/SJcARPMVO) to give a parametric treatment of coalgebraic logic that includes classical modal logic as an example. The logic of all predicate liftings can be defined in our setting in a natural way. \n\n**Remark:** Note that Moss's logic is defined by applying $T$ directly to syntax, whereas here we want to use the duality given by $S:{\\sf BA} \\to Set$ and $P:Set\\to{\\sf BA}$ to keep $T$ on the semantic side of the duality. In fact, we might have been tempted to simply define $L = PTS$ and while this is still the guiding idea, this direct approach is only suitable if we start from a dual equivalence of base categories such as the one given by complete atomic Boolean algebras and Set or the one given by Boolean algebras and Stone spaces. Moreover, defining $L=PTS$ will not, in general, result in a sifted colimit preserving functor and, thus, not, in general, allow us to find a finitary presentation of $Alg(L)$ by operations and equations.\n\n### Syntax\n\nWe define $L=PTS$ on finitely generated free algebras:\n\n$$LFn = PTSFn$$\n\nWe extend $L$ to all algebras via sifted colimits (hence $L$ preserves sifted colimits by definition).\n\nMoreover, $ULFn=UPTSFn$ is the set of all $n$-ary **predicate liftings**:\n\n\\begin{align}\nUPTSFn &\\cong UPT(2^n) \\\\\n&= 2^{T(2^n)} \\\\\n&\\cong Nat({(2^n)}^X,2^{TX}) \\\\\n&\\cong Nat({(2^X)}^n,2^{TX}) \\\\\n\\end{align}\n\nSince $L$ preserves sifted colimits it has a [presentation by operations and equations]() and this presentation presents $L$ by all predicates liftings as\n\n$$FGUA\\stackrel {q_A} \\longrightarrow LA$$\n\nwhere $GX=\\coprod_{n\\in\\mathbb N}ULFn\\times X^n$. \n\n### Semantics\n\nThe semantics $\\delta_X:LPX\\to PTX$ is given as follows. \n![](https://hackmd.io/_uploads/HJHa0kb2o.png =500x)\n\nEvery $PX$ is a sifted colimit $c_i:Fn\\to PX$. Let $c_i^\\ast$ be the adjoint transpose. Since $L$ preserves sifted colimits and since $PTc_i^\\ast$ is a cocone, $\\delta_X$ is well-defined.\n\nIn more detail, $c_i:Fn\\to PX$ is also a valuation of variable $v:n\\to UPX$ or also a tuple $(a_1,\\ldots a_n)$ of subsets of $X$. Its adjoint transpose $X\\to SFn$ combines the characteristic functions $\\chi_i$ of all the subsets $a_i$ into one function $X\\to 2^n$, $x\\mapsto \\langle\\chi_1,\\ldots\\chi_n\\rangle$. Now, given a modal operator $\\Delta\\in UPTSFn = 2^{T{(2^n)}}$ we have that $PTc_i^\\ast(\\Delta)$ is\n\n$$TX\\stackrel{Tc_i^\\ast}\\longrightarrow T(2^n)\\stackrel\\Delta\\longrightarrow 2$$\n\nwhich, as expected, coincides with the semantics of a modal operator as a predicate lifting.\n\n**Remark:** Using the Lemma above (which is special to the category ${\\sf BA}$), we do not need to go via the finitely generated free algebras $Fn$ and can define $\\delta_X$ for finite $X$ directly as the isomorphism \n\n$$LPX=PTSPX\\cong PTX$$\n\nwhich, in terms of the presentation of $L$ by modal operators, corresponds to\n\n\\begin{align}\n\\delta_X: LPX & \\to PTX\\\\\n\\Delta(a_1,\\ldots a_n) &\\mapsto \\Delta(a_1,\\ldots a_n)\n\\end{align}\n\nwhere \n- on the left $\\Delta(a_1,\\ldots a_n)$ is understood as syntax, that is, $\\Delta\\in UPTSFn$ and $(a_1,\\ldots a_n)\\in (UPX)^n$ and \n- on the right $\\Delta(a_1,\\ldots a_n)$ is evaluated by taking the predicate lifting $\\Delta$ as a function ${(2^X)}^n \\to 2^{TX}$, that is, as a function $(UPX)^n\\to UPTX$.\n\n## From Funtors to Predicate Liftings and Back\n\nEvery sifted colimit preserving functor $L$ with a semantics $\\delta:LP\\to PT$ can be represented by predicate liftings. Conversely, each set of predicate liftings presents a functor together with a semantics. We summarize this corrspondence.\n\n![](https://hackmd.io/_uploads/Sktt1gIhj.png)\n\nStarting with a functor $L$, its presentation $FGU\\to L$ and its semantics $LP\\to PT$, we obtain its presentation by predicate liftings in the last line, where $\\Delta$ ranges over all elements of $G_n$. Conversely, any collection of predicate liftings $\\Delta$ defines a functor $L$ obtained from \"climbing the ladder up\" and quotienting the corresponding $FGUPX\\to PTX$.\n\n## References\n\n- Kurz-Rosicky: [Strongly Complete Logics for Coalgebras](https://arxiv.org/pdf/1207.2732.pdf), 2012.\n\nDiagrams: \n- [Semantics of $L$](https://q.uiver.app/?q=WzAsOCxbMiwwLCJMUFgiXSxbNCwwLCJQVFgiXSxbMiwyLCJMRm4iXSxbNCwyLCJQVFNGbiJdLFswLDAsIlBYIl0sWzAsMiwiRm4iXSxbNiwwLCJYIl0sWzYsMiwiU0ZuIl0sWzAsMSwiXFxkZWx0YV9YIl0sWzIsMywiPSJdLFs1LDQsImNfaSJdLFsyLDAsIkxjX2kiXSxbMywxLCJQVGNfaV5cXGFzdCIsMl0sWzYsNywiY19pXlxcYXN0Il1d)\n- [From $L$ to $\\Delta$ (and back)](https://q.uiver.app/?q=WzAsMTIsWzEsOSwie30iXSxbMCwzLCJcXGNvcHJvZF97blxcaW5cXG1hdGhiYiBOfSAoR19uXFx0aW1lcyAoVVBYKV5uKSJdLFs0LDMsIlVQVFgiXSxbMCw0LCIoVVBYKV5uIl0sWzQsNCwiVVBUWCJdLFswLDAsIkZHVVBYIl0sWzIsMCwiTFBYIl0sWzQsMCwiUFRYIl0sWzAsMSwiRkdVUFgiXSxbNCwxLCJQVFgiXSxbMCwyLCJHVVBYIl0sWzQsMiwiVVBUWCJdLFsxLDJdLFszLDQsIlxcRGVsdGEiXSxbNSw2LCJxX3tQWH0iLDAseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XSxbNiw3LCJcXGRlbHRhX1giXSxbOCw5XSxbMTAsMTFdXQ==)\n","position":{"start":{"line":1,"column":1},"end":{"line":138,"column":1}},"key":"k0DsdjJ8QQ"}],"key":"lMd7Xr76Zi"}],"key":"XtYE2x0eZu"},"references":{"cite":{"order":[],"data":{}}}}